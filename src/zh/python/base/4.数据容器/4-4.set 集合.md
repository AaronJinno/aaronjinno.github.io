---
title: 4-4 set 集合
date: 2023-04-10
---

## Ⅰ. 定义集合
集合，最主要的特点就是：不支持元素的重复（自带去重功能）、并且内容无序

#### 1. 语法
使用{}来定义集合。
```python
变量 = {元素, 元素, ...}
```

#### 2. 定义空集合
定义空集合只能使用set()，不能直接使用空 `{}` ，空的 `{}` 表示dict
```python
set1 = {}
set2 = set()

print(type(set1))  # <class 'dict'>
print(type(set2))  # <class 'set'>
```

#### 3. 集合的特点
- 可以容纳多个数据
- 可以容纳不同类型的数据（混装）
- 数据是无序存储的（不支持下标索引）
- 不允许重复数据存在
    - 添加添加重复的数据，不会报错，只是会自动去重而已
- 可以修改（增加或删除元素等）
- 支持for循环

#### 4. 示例
```python
set1 = {1, 1, "hello", True, 2.1}
print(set1)  # {1, 'hello', 2.1} ,自动去重

```


## Ⅱ. 集合的操作
因为集合是无序的，所以集合不支持：下标索引访问

| 操作                          | 说明                  |
| :-------------------------- | :------------------ |
| 集合.add(元素)                  | 集合内添加一个元素           |
| 集合.remove(元素)               | 移除集合内指定的元素          |
| 集合.pop()                    | 从集合中随机取出一个元素        |
| 集合.clear()                  | 将集合清空               |
| 集合1.difference(集合2)         | 得到一个新集合，内含2个集合的差集   |
| 集合1.difference\_update(集合2) | 在集合1中，删除集合2中存在的元素   |
| 集合1.union(集合2)              | 得到1个新集合，内含2个集合的全部元素 |
| len(集合)                     | 得到一个整数，记录了集合的元素数量   |

#### 1. add：添加新元素
语法：集合.add(元素)。将指定元素，添加到集合内  
结果：集合本身被修改（不会返回新集合），添加了新元素

```python
set1 = {1, 2, 3, 10}
set1.add("ok")
print(set1)  # {1, 2, 3, 10, 'ok'}
```

#### 2. remote：移除元素
语法：集合.remove(元素)，将指定元素，从集合内移除  
结果：集合本身被修改，移除了元素

```python
set1 = {1, 2, 3, 10}
set1.remove(10)
print(set1)  # {3, 1, 2}
```

#### 3. pop：从集合中随机弹出
从集合中随机弹出一个元素   
语法：集合.pop() 
结果：会返回弹出的元素（可以接收），同时集合本身被修改，元素被弹出

```python
set1 = {1, 2, 3, 10}

set1.pop() 
print(set1)  # {1, 10, 2}
print(v1)  # 3

set1.pop()  
print(set1)  # {10, 2}
print(v2)  # 1
```

#### 4. clear：清空集合
语法：集合.clear()
结果：集合本身被清空
```python
set1 = {1, 2, 3, 10}

set1.clear()
print(set1)   # set()，成了空集合
```

#### 5. difference：集合求差集
取出集合1和集合2的差集（集合1有而集合2没有的）    
语法：集合1.difference(集合2)   
结果：得到一个新集合，集合1和集合2不变
```python
set1 = {1, 2, 3, 10}
set2 = {2, 3, 4, 5}

set3 = set1.difference(set2)
print(set1)  # {3, 1, 10, 2}
print(set2)  # {2, 3, 4, 5}
print(set3)  # {1, 10}
```

#### 6. difference_update：消除差集
对比集合1和集合2，在集合1内，删除和集合2相同的元素。  
语法：集合1.difference_update(集合2)  
结果：集合1被修改，集合2不变

```python
set1 = {1, 2, 3, 10}
set2 = {2, 3, 4, 5}

set3 = set1.difference_update(set2)
print(set1)  # {1, 10}
print(set2)  # {2, 3, 4, 5}
```

#### 7. union：合并集合
将集合1和集合2组合成新集合  
语法：集合1.union(集合2)  
结果：得到新集合，集合1和集合2不变

```python
set1 = {1, 2, 3, 10}
set2 = {2, 3, 4, 5}

set3 = set1.union(set2)
print(set1)  # {3, 1, 10, 2}
print(set2)  # {2, 3, 4, 5}
print(set3)  # {1, 2, 3, 4, 5, 10}

```

#### 8. len：集合长度
统计集合内有多少元素  

```python
set1 = {1, 2, 3, 10}

print(len(set1))  # 4
```

#### 9. 遍历集合
集合不支持下标索引，所以也就不支持使用while循环，只能使用for循环
```python
set1 = {1, 2, 3, 10}
for i in set1:
    print(i)
```

