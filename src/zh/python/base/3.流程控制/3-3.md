---
title: "3-3 循环语句 for"
date: 2023-04-06
---
## Ⅰ. for 循环
Python同样提供了for循环语句，两者能完成的功能基本差不多，但仍有一些区别：
- while循环的循环条件是自定义的，自行控制循环条件
- for循环是一种”轮询”机制，是对一批内容进行”逐个处理”
    - for循环就是将”待办事项”逐个完成的循环机制

![012](/img/python/base/012.png)

#### 1. 语法
从待处理数据集中：逐个取出数据赋值给临时变量，赋值一次就执行一次循环体，直到数据全部取出，因此for循环也称为遍历循环。

```
for 临时变量 in 待处理数据集: 
    循环满足条件时执行的代码
```

#### 2. 注意事项
- 同while循环不同，for循环是无法定义循环条件的，只能从被处理的数据集中，依次取出内容进行处理，所以，理论上讲，Python的for循环无法构建无限循环（被处理的数据集不可能无限大）
    - 这点和其他语言的for循环也不同
- 同样要注意缩进

#### 3. 案例
需求：计算字符串中有多少个字母u
```python
str1 = "fuck you bro,you are a ugly dog"
letter = "u"
count = 0
for x in str1:
    if x == letter:
        count += 1
print(count)  # 4
```
#### 4. 变量作用域
for循环的临时变量，在编程规范上，作用范围（作用域），只限定在for循环内部。  
- 如果在for循环外部访问临时变量,规范上是不允许的，也不建议这样做，虽然实际上可以访问到。
- 如果实在需要在循环外访问循环内的临时变量，可以在循环外预先定义 。
```python
i = 0
for i in range(5):
    print(i)
print(i)  # 4  
```

## Ⅱ. range语句
for循环语法中的：待处理数据集，严格来说，称之为：可迭代类型。  
可迭代类型指其内容可以一个个依次取出的一种类型，包括：
- 字符串
- 列表
- 元组  

for循环语句，本质上是遍历：可迭代对象。   

#### 1. 数字序列
除了字符串外，数字序列也是一种简单的可迭代对象（其他可迭代对象需要数据容器的前置知识）。 

数字序列的语法格式如下：  
- range(num)：获取一个从0开始，到num结束的数字序列，不含num
- range(num1,num2):获得一个从num1开始，到num2结束的数字序,不含num2
- range(num1, num2, step):获得一个从num1开始，到num2结束的数字序列，不含num2，数字之间的步长，以step为准（step默认为1）


#### 2. 示例
需求：计算0~100，有多少个偶数  
算法：通过if判断，数字除以2后，余数是否为0  
```python
num = 101  # 因为range不包含本身，所以+1
count = 0
for i in range(num):
    if i % 2 == 0:
        count += 1
print(count)  # 51
```

## Ⅲ. 循环的嵌套
:::tip
for循环和while循环是可以互相嵌套的
:::

同while一样，for循环也支持嵌套使用

#### 1. 语法
注意缩进，同样是通过缩进确定的层级关系
```
for 临时变量 in 数据集
    循环体

    for 临时变量 in 数据集
        循环体
```

#### 2. for循环示例
需求：连续一周，每天锻炼三次，打印每次锻炼，并计数
``` python
count = 1
for i in range(7):
    for j in range(3):
        print(f"这是我第{count} 次锻炼")
        count += 1
```

